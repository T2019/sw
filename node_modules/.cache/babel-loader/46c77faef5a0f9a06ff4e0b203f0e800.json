{"remainingRequest":"D:\\FrontEnd\\star-wars\\node_modules\\babel-loader\\lib\\index.js!D:\\FrontEnd\\star-wars\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\FrontEnd\\star-wars\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\FrontEnd\\star-wars\\src\\components\\sw-catalog.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\FrontEnd\\star-wars\\src\\components\\sw-catalog.vue","mtime":1625667727761},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovRnJvbnRFbmQvc3Rhci13YXJzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgc3dDYXRhbG9nSXRlbSBmcm9tICcuL3N3LWNhdGFsb2ctaXRlbSc7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAndi1wYWdpbmF0aW9uLTMnOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3N3LWNhdGFsb2cnLAogIGNvbXBvbmVudHM6IHsKICAgIHN3Q2F0YWxvZ0l0ZW06IHN3Q2F0YWxvZ0l0ZW0sCiAgICBQYWdpbmF0aW9uOiBQYWdpbmF0aW9uCiAgfSwKICBwcm9wczoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaFZhbHVlOiAnJywKICAgICAgc29ydGVkSGVyb2VzOiBbXSwKICAgICAgbXlJdGVtOiBbXSwKICAgICAgaGVyb1BlclBhZ2U6IDEwLAogICAgICBwYWdlTnVtYmVyOiAxLAogICAgICBwYWdlOiAxLAogICAgICAvL9GB0YLQsNGA0YLQvtCy0LDRjyDRgdGC0YDQsNC90LjRhtCwINC/0LDQs9C40L3QsNGG0LjQuAogICAgICByZXNwOiB7fSwKICAgICAgaGVyb2VzVm9sdW1lOiA4MiwKICAgICAgZmlsdGVyRGF0YTogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydBRERfVE9fQ0FSVCcsICdQQUdFX1RPX1NUT1JFJywgJ0dFVF9IRVJPRVNfRlJPTV9BUEknLCAnU0VBUkNIJ10pKSwge30sIHsKICAgIC8vINC00L7QsdCw0LLQu9GP0LXQvCDQs9C10YDQvtGPCiAgICBhZGRUb0NhcnQ6IGZ1bmN0aW9uIGFkZFRvQ2FydChkYXRhKSB7CiAgICAgIHRoaXMuQUREX1RPX0NBUlQoZGF0YSk7CiAgICB9LAogICAgLy8g0L/QvtC40YHQugogICAgLy8gc29ydEhlcm9lc0J5U2VhcmNoVmFsdWUgKHZhbHVlKSB7CiAgICAvLyAgIHRoaXMuc29ydGVkSGVyb2VzID0gWy4uLnRoaXMuSEVST0VTXQogICAgLy8gICBpZiAodmFsdWUpIHsKICAgIC8vICAgICB0aGlzLnNvcnRlZEhlcm9lcyA9IHRoaXMuc29ydGVkSGVyb2VzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgLy8gICAgICAgcmV0dXJuIGl0ZW0ubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHZhbHVlLnRvTG93ZXJDYXNlKCkpCiAgICAvLyAgICAgfSkKICAgIC8vICAgfSBlbHNlIHsKICAgIC8vICAgICB0aGlzLnNvcnRlZEhlcm9lcyA9IFsuLi50aGlzLkhFUk9FU10KICAgIC8vICAgfQogICAgLy8gfSwKICAgIC8vINC/0L4g0LrQu9C40LrRgyDQv9C10YDQtdGF0L7QtNC40Lwg0L3QsCDQstGL0LHRgNCw0L3QvdGD0Y4g0YHRgtGA0LDQvdC40YbRgyDQv9Cw0LPQuNC90LDRhtC40LgKICAgIHBhZ2VDbGljazogZnVuY3Rpb24gcGFnZUNsaWNrKHBhZ2UpIHsKICAgICAgdGhpcy5wYWdlTnVtYmVyID0gcGFnZTsKICAgIH0sCiAgICBzZWFyY2hUaGVIZXJvOiBmdW5jdGlvbiBzZWFyY2hUaGVIZXJvKHZhbHVlKSB7CiAgICAgIHRoaXMuU0VBUkNIKHRoaXMuc2VhcmNoVmFsdWUpOwogICAgfQogIH0pLAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydIRVJPRVMnLCAnRVhQX0hFUk9FUycsICdDVVJSRU5UX1BBR0UnLCAvL9GC0LXQutGD0YnQsNGPINGB0YLRgNCw0L3QuNGG0LAg0L/QsNCz0LjQvdCw0YbQuNC4CiAgJ0hFUk9FU19WT0xVTUUnLCAnUkVTUCcsICdGSUxURVJfREFUQScsICdJTUdfTlVNJywgJ05PVEhJTkdfRk9VTkQnXSkpLCB7fSwgewogICAgcGFnZXM6IGZ1bmN0aW9uIHBhZ2VzKCkgewogICAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMuc29ydGVkSGVyb2VzLmxlbmd0aCAvIHRoaXMuaGVyb1BlclBhZ2UpOwogICAgfSwKICAgIHRvdGFsUGFnZXM6IGZ1bmN0aW9uIHRvdGFsUGFnZXMoKSB7CiAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy5oZXJvZXNWb2x1bWUgLyB0aGlzLmhlcm9QZXJQYWdlKTsKICAgIH0sCiAgICBwYWdpbmF0ZWRIZXJvZXM6IGZ1bmN0aW9uIHBhZ2luYXRlZEhlcm9lcygpIHsKICAgICAgdmFyIGZyb20gPSAodGhpcy5wYWdlTnVtYmVyIC0gMSkgKiB0aGlzLmhlcm9QZXJQYWdlOwogICAgICB2YXIgdG8gPSBmcm9tICsgdGhpcy5oZXJvUGVyUGFnZTsKCiAgICAgIGlmICh0aGlzLnNvcnRlZEhlcm9lcy5sZW5ndGggPD0gdGhpcy5oZXJvUGVyUGFnZSkgewogICAgICAgIHJldHVybiB0aGlzLnNvcnRlZEhlcm9lcy5zbGljZSgwLCB0aGlzLnNvcnRlZEhlcm9lcy5sZW5ndGgpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLnNvcnRlZEhlcm9lcy5zbGljZShmcm9tLCB0byk7CiAgICAgIH0KICAgIH0KICB9KSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy90aGlzLkdFVF9IRVJPRVNfRlJPTV9BUEkoKQogICAgLy8gICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgIC8vICAgaWYgKHJlc3BvbnNlLmRhdGEpIHsKICAgIC8vICAgICB0aGlzLnNvcnRIZXJvZXNCeVNlYXJjaFZhbHVlKHRoaXMuc2VhcmNoVmFsdWUpCiAgICAvLyAgIH0KICAgIC8vIH0pCiAgICAvL3RoaXMuZ2V0SGVyb2VzRnJvbVVSTCh0aGlzLnBhZ2UpCiAgICB0aGlzLkdFVF9IRVJPRVNfRlJPTV9BUEkodGhpcy5wYWdlKTsKICB9LAogIHdhdGNoOiB7CiAgICAvLyBzZWFyY2hWYWx1ZSAoKSB7CiAgICAvLyAgIHRoaXMuc29ydEhlcm9lc0J5U2VhcmNoVmFsdWUodGhpcy5zZWFyY2hWYWx1ZSkKICAgIC8vIH0sCiAgICBwYWdlOiBmdW5jdGlvbiBwYWdlKCkgewogICAgICB0aGlzLlBBR0VfVE9fU1RPUkUodGhpcy5wYWdlKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["D:\\FrontEnd\\star-wars\\src\\components\\sw-catalog.vue"],"names":[],"mappings":";;AA2DA,OAAO,aAAP,MAA0B,mBAA1B;AACA,SAAS,UAAT,EAAqB,UAArB,QAAuC,MAAvC;AACA,OAAO,UAAP,MAAuB,gBAAvB;AACA,OAAO,KAAP,MAAkB,OAAlB;AAGA,eAAe;AACb,EAAA,IAAI,EAAE,YADO;AAEb,EAAA,UAAU,EAAE;AAAE,IAAA,aAAa,EAAb,aAAF;AAAiB,IAAA,UAAU,EAAV;AAAjB,GAFC;AAGb,EAAA,KAAK,EAAE,EAHM;AAIb,EAAA,IAJa,kBAIL;AACN,WAAO;AACL,MAAA,WAAW,EAAE,EADR;AAEL,MAAA,YAAY,EAAE,EAFT;AAGL,MAAA,MAAM,EAAE,EAHH;AAKL,MAAA,WAAW,EAAE,EALR;AAML,MAAA,UAAU,EAAE,CANP;AAQL,MAAA,IAAI,EAAE,CARD;AAQI;AACT,MAAA,IAAI,EAAE,EATD;AAUL,MAAA,YAAY,EAAE,EAVT;AAWL,MAAA,UAAU,EAAC;AAXN,KAAP;AAaD,GAlBY;AAmBb,EAAA,OAAO,kCAkDF,UAAU,CAAC,CACZ,aADY,EAEZ,eAFY,EAGZ,qBAHY,EAIZ,QAJY,CAAD,CAlDR;AA0DL;AACA,IAAA,SA3DK,qBA2DM,IA3DN,EA2DY;AACf,WAAK,WAAL,CAAiB,IAAjB;AACD,KA7DI;AA+DL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,IAAA,SA5EK,qBA4EM,IA5EN,EA4EY;AACf,WAAK,UAAL,GAAkB,IAAlB;AACD,KA9EI;AA+EL,IAAA,aA/EK,yBA+ES,KA/ET,EA+Ee;AAElB,WAAK,MAAL,CAAY,KAAK,WAAjB;AAEF;AAnFK,IAnBM;AAyGb,EAAA,QAAQ,kCACH,UAAU,CAAC,CACZ,QADY,EAEZ,YAFY,EAGZ,cAHY,EAGI;AAChB,iBAJY,EAKZ,MALY,EAMZ,aANY,EAOZ,SAPY,EAQZ,eARY,CAAD,CADP;AAYN,IAAA,KAZM,mBAYG;AACP,aAAO,IAAI,CAAC,IAAL,CAAU,KAAK,YAAL,CAAkB,MAAlB,GAA2B,KAAK,WAA1C,CAAP;AACD,KAdK;AAeN,IAAA,UAfM,wBAeM;AACV,aAAO,IAAI,CAAC,IAAL,CAAU,KAAK,YAAL,GAAoB,KAAK,WAAnC,CAAP;AACD,KAjBK;AAkBN,IAAA,eAlBM,6BAkBa;AACjB,UAAM,IAAG,GAAI,CAAC,KAAK,UAAL,GAAkB,CAAnB,IAAwB,KAAK,WAA1C;AACA,UAAM,EAAC,GAAI,IAAG,GAAI,KAAK,WAAvB;;AAEA,UAAI,KAAK,YAAL,CAAkB,MAAlB,IAA4B,KAAK,WAArC,EAAkD;AAChD,eAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,CAAxB,EAA2B,KAAK,YAAL,CAAkB,MAA7C,CAAP;AACF,OAFA,MAEO;AACL,eAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,IAAxB,EAA8B,EAA9B,CAAP;AACF;AACF;AA3BM,IAzGK;AAsIb,EAAA,OAtIa,qBAsIF;AACT;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,SAAK,mBAAL,CAAyB,KAAK,IAA9B;AAED,GAjJY;AAkJb,EAAA,KAAK,EAAE;AACL;AACA;AACA;AACA,IAAA,IAJK,kBAIC;AACJ,WAAK,aAAL,CAAmB,KAAK,IAAxB;AAED;AAPI;AAlJM,CAAf","sourcesContent":["<template>\r\n  <div class=\"catalog\">\r\n\r\n    <div class=\"search-field\">\r\n      <input\r\n        class=\"search-field__input\"\r\n        type=\"text\"\r\n        placeholder=\"Найди своего героя...\"\r\n        v-model=\"searchValue\"\r\n      >\r\n      <button class=\"search-field__btn\" @click=\"searchTheHero\">\r\n        <i class=\"icon-search\"></i>\r\n      </button>\r\n    </div>\r\n\r\n    <div v-if=\"NOTHING_FOUND === true\"> <!--    если ничего не нашлось, то показывать это сообщение-->\r\n      <h2>По данному запросу ничего не найдено</h2>\r\n    </div>\r\n    <div v-else>\r\n\r\n    </div>\r\n\r\n    <div class=\"gallery\">\r\n      <ul class=\"gallery__list\">\r\n        <swCatalogItem\r\n          v-for=\"hero in RESP\"\r\n          :key=\"hero.id\"\r\n          :hero_data=\"hero\"\r\n          @addToCart=\"addToCart\"\r\n\r\n\r\n        />\r\n      </ul>\r\n    </div>\r\n\r\n<!--    <div class=\"pagination\">-->\r\n<!--      <div class=\"page\"-->\r\n<!--        v-for=\"page in RESP\"-->\r\n<!--           :key=\"page\"-->\r\n<!--           @click=\"pageClick(page)\"-->\r\n<!--           :class=\"{'page_selected': page===pageNumber}\"-->\r\n\r\n<!--      >{{page}}-->\r\n<!--      </div>-->\r\n<!--    </div>-->\r\n    <div>\r\n      <pagination\r\n        v-model=\"page\"\r\n        :records=\"heroesVolume\"\r\n        :per-page=\"10\"\r\n        @paginate=\"GET_HEROES_FROM_API(page)\"\r\n\r\n      />\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport swCatalogItem from './sw-catalog-item'\r\nimport { mapActions, mapGetters } from 'vuex'\r\nimport Pagination from 'v-pagination-3';\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default {\r\n  name: 'sw-catalog',\r\n  components: { swCatalogItem, Pagination},\r\n  props: {},\r\n  data () {\r\n    return {\r\n      searchValue: '',\r\n      sortedHeroes: [],\r\n      myItem: [],\r\n\r\n      heroPerPage: 10,\r\n      pageNumber: 1,\r\n\r\n      page: 1, //стартовая страница пагинации\r\n      resp: {},\r\n      heroesVolume: 82,\r\n      filterData:[],\r\n    }\r\n  },\r\n  methods: {\r\n    // getHeroesFromURL(page){\r\n    //   if(page === 1){\r\n    //     return axios\r\n    //       .get('https://swapi.dev/api/people/')\r\n    //       .then((response) => {\r\n    //         const setValueToPagination = (data) => {\r\n    //           this.resp = data\r\n    //           this.heroesVolume = data.count\r\n    //\r\n    //           const filterData = Object.keys(data.results).map(key => {\r\n    //             return {\r\n    //               id: Number(key)+1,\r\n    //               name: data.results[key].name,\r\n    //               gender: data.results[key].gender\r\n    //             }\r\n    //           })\r\n    //           console.log(filterData)\r\n    //\r\n    //         }\r\n    //         setValueToPagination(response.data)\r\n    //\r\n    //\r\n    //       })\r\n    //   }else{\r\n    //     return axios\r\n    //       .get('https://swapi.dev/api/people/?page=' + page)\r\n    //       .then((response) => {\r\n    //         const setValueToPagination = (data) => {\r\n    //           this.resp = data\r\n    //           this.heroesVolume = data.count\r\n    //\r\n    //           const filterData = Object.keys(data.results).map(key => {\r\n    //             return {\r\n    //               id: Number(key)+1,\r\n    //               name: data.results[key].name,\r\n    //               gender: data.results[key].gender\r\n    //             }\r\n    //           })\r\n    //           console.log(filterData)\r\n    //         }\r\n    //         setValueToPagination(response.data)\r\n    //\r\n    //       })\r\n    //   }\r\n\r\n\r\n\r\n\r\n    //},\r\n    ...mapActions([\r\n      'ADD_TO_CART',\r\n      'PAGE_TO_STORE',\r\n      'GET_HEROES_FROM_API',\r\n      'SEARCH',\r\n\r\n    ]),\r\n\r\n    // добавляем героя\r\n    addToCart (data) {\r\n      this.ADD_TO_CART(data)\r\n    },\r\n\r\n    // поиск\r\n    // sortHeroesBySearchValue (value) {\r\n    //   this.sortedHeroes = [...this.HEROES]\r\n    //   if (value) {\r\n    //     this.sortedHeroes = this.sortedHeroes.filter(function (item) {\r\n    //       return item.name.toLowerCase().includes(value.toLowerCase())\r\n    //     })\r\n    //   } else {\r\n    //     this.sortedHeroes = [...this.HEROES]\r\n    //   }\r\n    // },\r\n\r\n    // по клику переходим на выбранную страницу пагинации\r\n    pageClick (page) {\r\n      this.pageNumber = page\r\n    },\r\n    searchTheHero(value){\r\n\r\n      this.SEARCH(this.searchValue)\r\n\r\n    }\r\n\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'HEROES',\r\n      'EXP_HEROES',\r\n      'CURRENT_PAGE', //текущая страница пагинации\r\n      'HEROES_VOLUME',\r\n      'RESP',\r\n      'FILTER_DATA',\r\n      'IMG_NUM',\r\n      'NOTHING_FOUND',\r\n\r\n    ]),\r\n    pages () {\r\n      return Math.ceil(this.sortedHeroes.length / this.heroPerPage)\r\n    },\r\n    totalPages(){\r\n      return Math.ceil(this.heroesVolume / this.heroPerPage)\r\n    },\r\n    paginatedHeroes () {\r\n      const from = (this.pageNumber - 1) * this.heroPerPage\r\n      const to = from + this.heroPerPage\r\n\r\n      if (this.sortedHeroes.length <= this.heroPerPage) {\r\n        return this.sortedHeroes.slice(0, this.sortedHeroes.length)\r\n      } else {\r\n        return this.sortedHeroes.slice(from, to)\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    //this.GET_HEROES_FROM_API()\r\n    //   .then((response) => {\r\n    //   if (response.data) {\r\n    //     this.sortHeroesBySearchValue(this.searchValue)\r\n    //   }\r\n    // })\r\n\r\n    //this.getHeroesFromURL(this.page)\r\n    this.GET_HEROES_FROM_API(this.page)\r\n\r\n  },\r\n  watch: {\r\n    // searchValue () {\r\n    //   this.sortHeroesBySearchValue(this.searchValue)\r\n    // },\r\n    page(){\r\n      this.PAGE_TO_STORE(this.page)\r\n\r\n    },\r\n\r\n\r\n  }\r\n\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":""}]}