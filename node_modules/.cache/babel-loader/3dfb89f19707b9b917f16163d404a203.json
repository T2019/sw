{"remainingRequest":"D:\\FrontEnd\\star-wars\\node_modules\\babel-loader\\lib\\index.js!D:\\FrontEnd\\star-wars\\src\\store\\actions\\actions.js","dependencies":[{"path":"D:\\FrontEnd\\star-wars\\src\\store\\actions\\actions.js","mtime":1624549258569},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBHRVRfSEVST0VTX0ZST01fQVBJOiBmdW5jdGlvbiBHRVRfSEVST0VTX0ZST01fQVBJKF9yZWYpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciB0ZW1wQXJyID0gW107IC8vINCy0YDQtdC80LXQvdC90L7QtSDRhdGA0LDQvdC40LvQuNGJ0LUg0LzQsNGB0YHQuNCy0L7Qsiwg0YLQviDQtdGB0YLRjCDRgdGO0LTQsCDQutCw0LbQtNGD0Y4g0LjRgtC10YDQsNGG0LjRjiDQv9C+0YHRgtGD0L/QsNGO0YIg0L3QvtCy0YvQtSDQvtCx0YnRitC10LrRgtGLCgogICAgICBnZXRIZXJvZXNEYXRhKCdodHRwczovL3N3YXBpLmRldi9hcGkvcGVvcGxlJyk7CgogICAgICBmdW5jdGlvbiBnZXRIZXJvZXNEYXRhKGFwaVVSTCkgewogICAgICAgIGF4aW9zLmdldChhcGlVUkwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB2YXIgc2hvd0RldGFpbCA9IGZ1bmN0aW9uIHNob3dEZXRhaWwoZGF0YSkgewogICAgICAgICAgICB2YXIgZmlsdGVyRGF0YSA9IE9iamVjdC5rZXlzKGRhdGEucmVzdWx0cykubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgaWQ6IE51bWJlcihrZXkpICsgMSArIHRlbXBBcnIubGVuZ3RoLAogICAgICAgICAgICAgICAgbmFtZTogZGF0YS5yZXN1bHRzW2tleV0ubmFtZSwKICAgICAgICAgICAgICAgIGdlbmRlcjogZGF0YS5yZXN1bHRzW2tleV0uZ2VuZGVyCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRlbXBBcnIgPSB0ZW1wQXJyLmNvbmNhdChmaWx0ZXJEYXRhKTsgLy8g0LrQvtC90LrQsNGC0LXQvdC40YDRg9C10Lwg0LzQsNGB0YHQuNCyCgogICAgICAgICAgICBpZiAoZGF0YS5uZXh0KSB7CiAgICAgICAgICAgICAgZ2V0SGVyb2VzRGF0YShkYXRhLm5leHQpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNvbW1pdCgnU0VUX0hFUk9FU19UT19TVEFURScsIHRlbXBBcnIpOyAvLyDQutCw0Log0YLQvtC70YzQutC+INC60L7QvdGH0LjQu9C40YHRjCDRgdC70LXQtNGD0Y7RidC40LUg0L7QsdGK0LXQutGC0YssINGC0L4g0LTQtdC70LDQtdC8INC60L7QvNC80LjRgiDQvNGD0YLQsNGG0LjQuAoKICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfTsKCiAgICAgICAgICBzaG93RGV0YWlsKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfSwKICBBRERfVE9fQ0FSVDogZnVuY3Rpb24gQUREX1RPX0NBUlQoX3JlZjIsIGhlcm8pIHsKICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICBjb21taXQoJ1NFVF9DQVJUJywgaGVybyk7CiAgfSwKICBERUxFVEVfRlJPTV9DQVJUOiBmdW5jdGlvbiBERUxFVEVfRlJPTV9DQVJUKF9yZWYzLCBpbmRleCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgIGNvbW1pdCgnUkVNT1ZFX0ZST01fQ0FSVCcsIGluZGV4KTsKICB9Cn07"},{"version":3,"sources":["D:/FrontEnd/star-wars/src/store/actions/actions.js"],"names":["axios","GET_HEROES_FROM_API","commit","Promise","resolve","reject","tempArr","getHeroesData","apiURL","get","then","response","showDetail","data","filterData","Object","keys","results","map","key","id","Number","length","name","gender","concat","next","error","ADD_TO_CART","hero","DELETE_FROM_CART","index"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACbC,EAAAA,mBADa,qCACoB;AAAA,QAAVC,MAAU,QAAVA,MAAU;AAC/B,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAIC,OAAO,GAAG,EAAd,CADsC,CACrB;;AACjBC,MAAAA,aAAa,CAAC,8BAAD,CAAb;;AACA,eAASA,aAAT,CAAwBC,MAAxB,EAAgC;AAC9BR,QAAAA,KAAK,CACFS,GADH,CACOD,MADP,EAEGE,IAFH,CAEQ,UAACC,QAAD,EAAc;AAClB,cAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD,EAAU;AAC3B,gBAAMC,UAAU,GAAGC,MAAM,CAACC,IAAP,CAAYH,IAAI,CAACI,OAAjB,EAA0BC,GAA1B,CAA8B,UAAAC,GAAG,EAAI;AACtD,qBAAO;AACLC,gBAAAA,EAAE,EAAEC,MAAM,CAACF,GAAD,CAAN,GAAc,CAAd,GAAkBb,OAAO,CAACgB,MADzB;AAELC,gBAAAA,IAAI,EAAEV,IAAI,CAACI,OAAL,CAAaE,GAAb,EAAkBI,IAFnB;AAGLC,gBAAAA,MAAM,EAAEX,IAAI,CAACI,OAAL,CAAaE,GAAb,EAAkBK;AAHrB,eAAP;AAKD,aANkB,CAAnB;AAQAlB,YAAAA,OAAO,GAAGA,OAAO,CAACmB,MAAR,CAAeX,UAAf,CAAV,CAT2B,CASU;;AAErC,gBAAID,IAAI,CAACa,IAAT,EAAe;AACbnB,cAAAA,aAAa,CAACM,IAAI,CAACa,IAAN,CAAb;AACD,aAFD,MAEO;AACLxB,cAAAA,MAAM,CAAC,qBAAD,EAAwBI,OAAxB,CAAN,CADK,CACiC;;AACtCF,cAAAA,OAAO,CAACO,QAAD,CAAP;AACD;AACF,WAjBD;;AAkBAC,UAAAA,UAAU,CAACD,QAAQ,CAACE,IAAV,CAAV;AACD,SAtBH,EAsBK,UAAAc,KAAK,EAAI;AACVtB,UAAAA,MAAM,CAACsB,KAAD,CAAN;AACD,SAxBH;AAyBD;AACF,KA9BM,CAAP;AA+BD,GAjCY;AAkCbC,EAAAA,WAlCa,8BAkCYC,IAlCZ,EAkCkB;AAAA,QAAhB3B,MAAgB,SAAhBA,MAAgB;AAC7BA,IAAAA,MAAM,CAAC,UAAD,EAAa2B,IAAb,CAAN;AACD,GApCY;AAqCbC,EAAAA,gBArCa,mCAqCiBC,KArCjB,EAqCwB;AAAA,QAAjB7B,MAAiB,SAAjBA,MAAiB;AACnCA,IAAAA,MAAM,CAAC,kBAAD,EAAqB6B,KAArB,CAAN;AACD;AAvCY,CAAf","sourcesContent":["import axios from 'axios'\r\n\r\nexport default {\r\n  GET_HEROES_FROM_API ({ commit }) {\r\n    return new Promise((resolve, reject) => {\r\n      let tempArr = [] // временное хранилище массивов, то есть сюда каждую итерацию поступают новые общъекты\r\n      getHeroesData('https://swapi.dev/api/people')\r\n      function getHeroesData (apiURL) {\r\n        axios\r\n          .get(apiURL)\r\n          .then((response) => {\r\n            const showDetail = (data) => {\r\n              const filterData = Object.keys(data.results).map(key => {\r\n                return {\r\n                  id: Number(key) + 1 + tempArr.length,\r\n                  name: data.results[key].name,\r\n                  gender: data.results[key].gender\r\n                }\r\n              })\r\n\r\n              tempArr = tempArr.concat(filterData) // конкатенируем массив\r\n\r\n              if (data.next) {\r\n                getHeroesData(data.next)\r\n              } else {\r\n                commit('SET_HEROES_TO_STATE', tempArr)// как только кончились следующие объекты, то делаем коммит мутации\r\n                resolve(response)\r\n              }\r\n            }\r\n            showDetail(response.data)\r\n          }, error => {\r\n            reject(error)\r\n          })\r\n      }\r\n    })\r\n  },\r\n  ADD_TO_CART ({ commit }, hero) {\r\n    commit('SET_CART', hero)\r\n  },\r\n  DELETE_FROM_CART ({ commit }, index) {\r\n    commit('REMOVE_FROM_CART', index)\r\n  }\r\n}\r\n"]}]}