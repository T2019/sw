{"remainingRequest":"D:\\FrontEnd\\star-wars\\node_modules\\babel-loader\\lib\\index.js!D:\\FrontEnd\\star-wars\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\FrontEnd\\star-wars\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\FrontEnd\\star-wars\\src\\components\\sw-catalog.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\FrontEnd\\star-wars\\src\\components\\sw-catalog.vue","mtime":1624537810072},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9Gcm9udEVuZC9zdGFyLXdhcnMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovRnJvbnRFbmQvc3Rhci13YXJzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgc3dDYXRhbG9nSXRlbSBmcm9tICcuL3N3LWNhdGFsb2ctaXRlbSc7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzdy1jYXRhbG9nJywKICBjb21wb25lbnRzOiB7CiAgICBzd0NhdGFsb2dJdGVtOiBzd0NhdGFsb2dJdGVtCiAgfSwKICBwcm9wczoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaFZhbHVlOiAnJywKICAgICAgc29ydGVkSGVyb2VzOiBbXSwKICAgICAgbXlJdGVtOiBbXSwKICAgICAgaGVyb1BlclBhZ2U6IDEwLAogICAgICBwYWdlTnVtYmVyOiAxCiAgICB9OwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsnR0VUX0hFUk9FU19GUk9NX0FQSScsICdBRERfVE9fQ0FSVCddKSksIHt9LCB7CiAgICAvLyDQtNC+0LHQsNCy0LvRj9C10Lwg0LPQtdGA0L7RjwogICAgYWRkVG9DYXJ0OiBmdW5jdGlvbiBhZGRUb0NhcnQoZGF0YSkgewogICAgICB0aGlzLkFERF9UT19DQVJUKGRhdGEpOwogICAgfSwKICAgIC8vINC/0L7QuNGB0LoKICAgIHNvcnRIZXJvZXNCeVNlYXJjaFZhbHVlOiBmdW5jdGlvbiBzb3J0SGVyb2VzQnlTZWFyY2hWYWx1ZSh2YWx1ZSkgewogICAgICB0aGlzLnNvcnRlZEhlcm9lcyA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLkhFUk9FUyk7CgogICAgICBpZiAodmFsdWUpIHsKICAgICAgICB0aGlzLnNvcnRlZEhlcm9lcyA9IHRoaXMuc29ydGVkSGVyb2VzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHZhbHVlLnRvTG93ZXJDYXNlKCkpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc29ydGVkSGVyb2VzID0gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuSEVST0VTKTsKICAgICAgfQogICAgfSwKICAgIC8vINC/0L4g0LrQu9C40LrRgyDQv9C10YDQtdGF0L7QtNC40Lwg0L3QsCDQstGL0LHRgNCw0L3QvdGD0Y4g0YHRgtGA0LDQvdC40YbRgyDQv9Cw0LPQuNC90LDRhtC40LgKICAgIHBhZ2VDbGljazogZnVuY3Rpb24gcGFnZUNsaWNrKHBhZ2UpIHsKICAgICAgdGhpcy5wYWdlTnVtYmVyID0gcGFnZTsKICAgIH0sCiAgICBmdW5jdGlvbk5hbWU6IGZ1bmN0aW9uIGZ1bmN0aW9uTmFtZSgpIHt9CiAgfSksCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ0hFUk9FUyddKSksIHt9LCB7CiAgICBwYWdlczogZnVuY3Rpb24gcGFnZXMoKSB7CiAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy5zb3J0ZWRIZXJvZXMubGVuZ3RoIC8gdGhpcy5oZXJvUGVyUGFnZSk7CiAgICB9LAogICAgcGFnaW5hdGVkSGVyb2VzOiBmdW5jdGlvbiBwYWdpbmF0ZWRIZXJvZXMoKSB7CiAgICAgIHZhciBmcm9tID0gKHRoaXMucGFnZU51bWJlciAtIDEpICogdGhpcy5oZXJvUGVyUGFnZTsKICAgICAgdmFyIHRvID0gZnJvbSArIHRoaXMuaGVyb1BlclBhZ2U7CgogICAgICBpZiAodGhpcy5zb3J0ZWRIZXJvZXMubGVuZ3RoIDw9IHRoaXMuaGVyb1BlclBhZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5zb3J0ZWRIZXJvZXMuc2xpY2UoMCwgdGhpcy5zb3J0ZWRIZXJvZXMubGVuZ3RoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5zb3J0ZWRIZXJvZXMuc2xpY2UoZnJvbSwgdG8pOwogICAgICB9CiAgICB9CiAgfSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5HRVRfSEVST0VTX0ZST01fQVBJKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgaWYgKHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICBfdGhpcy5zb3J0SGVyb2VzQnlTZWFyY2hWYWx1ZShfdGhpcy5zZWFyY2hWYWx1ZSk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgd2F0Y2g6IHsKICAgIHNlYXJjaFZhbHVlOiBmdW5jdGlvbiBzZWFyY2hWYWx1ZSgpIHsKICAgICAgdGhpcy5zb3J0SGVyb2VzQnlTZWFyY2hWYWx1ZSh0aGlzLnNlYXJjaFZhbHVlKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["D:\\FrontEnd\\star-wars\\src\\components\\sw-catalog.vue"],"names":[],"mappings":";;;;;;;AA+CA,OAAO,aAAP,MAA0B,mBAA1B;AACA,SAAS,UAAT,EAAqB,UAArB,QAAuC,MAAvC;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,YADO;AAEb,EAAA,UAAU,EAAE;AAAE,IAAA,aAAY,EAAZ;AAAF,GAFC;AAGb,EAAA,KAAK,EAAE,EAHM;AAIb,EAAA,IAJa,kBAIL;AACN,WAAO;AACL,MAAA,WAAW,EAAE,EADR;AAEL,MAAA,YAAY,EAAE,EAFT;AAGL,MAAA,MAAM,EAAE,EAHH;AAKL,MAAA,WAAW,EAAE,EALR;AAML,MAAA,UAAU,EAAE;AANP,KAAP;AAQD,GAbY;AAcb,EAAA,OAAO,kCACF,UAAU,CAAC,CACZ,qBADY,EAEZ,aAFY,CAAD,CADR;AAML;AACA,IAAA,SAPK,qBAOM,IAPN,EAOY;AACf,WAAK,WAAL,CAAiB,IAAjB;AACD,KATI;AAWL;AACA,IAAA,uBAZK,mCAYoB,KAZpB,EAY2B;AAC9B,WAAK,YAAL,sBAAwB,KAAK,MAA7B;;AACA,UAAI,KAAJ,EAAW;AACT,aAAK,YAAL,GAAoB,KAAK,YAAL,CAAkB,MAAlB,CAAyB,UAAU,IAAV,EAAgB;AAC3D,iBAAO,IAAI,CAAC,IAAL,CAAU,WAAV,GAAwB,QAAxB,CAAiC,KAAK,CAAC,WAAN,EAAjC,CAAP;AACD,SAFmB,CAApB;AAGF,OAJA,MAIO;AACL,aAAK,YAAL,sBAAwB,KAAK,MAA7B;AACF;AACD,KArBI;AAuBL;AACA,IAAA,SAxBK,qBAwBM,IAxBN,EAwBY;AACf,WAAK,UAAL,GAAkB,IAAlB;AACD,KA1BI;AA2BL,IAAA,YA3BK,0BA2BS,CAEb;AA7BI,IAdM;AA6Cb,EAAA,QAAQ,kCACH,UAAU,CAAC,CACZ,QADY,CAAD,CADP;AAIN,IAAA,KAJM,mBAIG;AACP,aAAO,IAAI,CAAC,IAAL,CAAU,KAAK,YAAL,CAAkB,MAAlB,GAA2B,KAAK,WAA1C,CAAP;AACD,KANK;AAON,IAAA,eAPM,6BAOa;AACjB,UAAM,IAAG,GAAI,CAAC,KAAK,UAAL,GAAkB,CAAnB,IAAwB,KAAK,WAA1C;AACA,UAAM,EAAC,GAAI,IAAG,GAAI,KAAK,WAAvB;;AAEA,UAAI,KAAK,YAAL,CAAkB,MAAlB,IAA4B,KAAK,WAArC,EAAkD;AAChD,eAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,CAAxB,EAA2B,KAAK,YAAL,CAAkB,MAA7C,CAAP;AACF,OAFA,MAEO;AACL,eAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,IAAxB,EAA8B,EAA9B,CAAP;AACF;AACF;AAhBM,IA7CK;AA+Db,EAAA,OA/Da,qBA+DF;AAAA;;AACT,SAAK,mBAAL,GAA2B,IAA3B,CAAgC,UAAC,QAAD,EAAc;AAC5C,UAAI,QAAQ,CAAC,IAAb,EAAmB;AACjB,QAAA,KAAI,CAAC,uBAAL,CAA6B,KAAI,CAAC,WAAlC;AACF;AACD,KAJD;AAKD,GArEY;AAsEb,EAAA,KAAK,EAAE;AACL,IAAA,WADK,yBACU;AACb,WAAK,uBAAL,CAA6B,KAAK,WAAlC;AACF;AAHK;AAtEM,CAAf","sourcesContent":["<template>\n  <div class=\"catalog\">\n\n    <div class=\"search-field\">\n      <input\n        class=\"search-field__input\"\n        type=\"text\"\n        placeholder=\"Найди своего героя...\"\n        v-model=\"searchValue\"\n      >\n      <button class=\"search-field__btn\" @click=\"search\">\n        <i class=\"icon-search\"></i>\n      </button>\n    </div>\n\n    <div class=\"gallery\">\n      <ul class=\"gallery__list\">\n        <swCatalogItem\n          v-for=\"hero in paginatedHeroes\"\n          :key=\"hero.id\"\n          :hero_data=\"hero\"\n          @addToCart=\"addToCart\"\n\n        />\n      </ul>\n    </div>\n    <paginate\n      :page-count=\"20\"\n      :click-handler=\"functionName\"\n      :prev-text=\"'Prev'\"\n      :next-text=\"'Next'\"\n      :container-class=\"'className'\">\n    </paginate>\n    <div class=\"pagination\">\n      <div class=\"page\"\n        v-for=\"page in pages\"\n           :key=\"page\"\n           @click=\"pageClick(page)\"\n           :class=\"{'page_selected': page===pageNumber}\"\n      >{{page}}\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport swCatalogItem from './sw-catalog-item'\nimport { mapActions, mapGetters } from 'vuex'\n\nexport default {\n  name: 'sw-catalog',\n  components: { swCatalogItem },\n  props: {},\n  data () {\n    return {\n      searchValue: '',\n      sortedHeroes: [],\n      myItem: [],\n\n      heroPerPage: 10,\n      pageNumber: 1\n    }\n  },\n  methods: {\n    ...mapActions([\n      'GET_HEROES_FROM_API',\n      'ADD_TO_CART'\n    ]),\n\n    // добавляем героя\n    addToCart (data) {\n      this.ADD_TO_CART(data)\n    },\n\n    // поиск\n    sortHeroesBySearchValue (value) {\n      this.sortedHeroes = [...this.HEROES]\n      if (value) {\n        this.sortedHeroes = this.sortedHeroes.filter(function (item) {\n          return item.name.toLowerCase().includes(value.toLowerCase())\n        })\n      } else {\n        this.sortedHeroes = [...this.HEROES]\n      }\n    },\n\n    // по клику переходим на выбранную страницу пагинации\n    pageClick (page) {\n      this.pageNumber = page\n    },\n    functionName(){\n\n    },\n  },\n  computed: {\n    ...mapGetters([\n      'HEROES'\n    ]),\n    pages () {\n      return Math.ceil(this.sortedHeroes.length / this.heroPerPage)\n    },\n    paginatedHeroes () {\n      const from = (this.pageNumber - 1) * this.heroPerPage\n      const to = from + this.heroPerPage\n\n      if (this.sortedHeroes.length <= this.heroPerPage) {\n        return this.sortedHeroes.slice(0, this.sortedHeroes.length)\n      } else {\n        return this.sortedHeroes.slice(from, to)\n      }\n    }\n  },\n  mounted () {\n    this.GET_HEROES_FROM_API().then((response) => {\n      if (response.data) {\n        this.sortHeroesBySearchValue(this.searchValue)\n      }\n    })\n  },\n  watch: {\n    searchValue () {\n      this.sortHeroesBySearchValue(this.searchValue)\n    }\n\n  }\n\n}\n\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":""}]}