{"remainingRequest":"D:\\FrontEnd\\star-wars\\node_modules\\babel-loader\\lib\\index.js!D:\\FrontEnd\\star-wars\\src\\store\\index.js","dependencies":[{"path":"D:\\FrontEnd\\star-wars\\src\\store\\index.js","mtime":1624463891498},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgeyBjcmVhdGVTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCBjcmVhdGVTdG9yZSh7CiAgc3RhdGU6IHsKICAgIGhlcm9lczogW10sCiAgICBjYXJ0OiBbXQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBTRVRfSEVST0VTX1RPX1NUQVRFOiBmdW5jdGlvbiBTRVRfSEVST0VTX1RPX1NUQVRFKHN0YXRlLCB0ZW1wQXJyKSB7CiAgICAgIHN0YXRlLmhlcm9lcyA9IHN0YXRlLmhlcm9lcy5jb25jYXQodGVtcEFycik7CiAgICB9LAogICAgU0VUX0NBUlQ6IGZ1bmN0aW9uIFNFVF9DQVJUKHN0YXRlLCBoZXJvKSB7CiAgICAgIGlmIChzdGF0ZS5jYXJ0Lmxlbmd0aCkgewogICAgICAgIHZhciBpc0hlcm9FeGlzdHMgPSBmYWxzZTsKICAgICAgICBzdGF0ZS5jYXJ0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGlmIChpdGVtLmlkID09PSBoZXJvLmlkKSB7CiAgICAgICAgICAgIGlzSGVyb0V4aXN0cyA9IHRydWU7IC8vIHJldHVybgogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBpZiAoIWlzSGVyb0V4aXN0cykgewogICAgICAgICAgc3RhdGUuY2FydC5wdXNoKGhlcm8pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBzdGF0ZS5jYXJ0LnB1c2goaGVybyk7CiAgICAgIH0KICAgIH0sCiAgICBSRU1PVkVfRlJPTV9DQVJUOiBmdW5jdGlvbiBSRU1PVkVfRlJPTV9DQVJUKHN0YXRlLCBpbmRleCkgewogICAgICBzdGF0ZS5jYXJ0LnNwbGljZShpbmRleCwgMSk7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBHRVRfSEVST0VTX0ZST01fQVBJOiBmdW5jdGlvbiBHRVRfSEVST0VTX0ZST01fQVBJKF9yZWYpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHZhciB0ZW1wQXJyID0gW107IC8vINCy0YDQtdC80LXQvdC90L7QtSDRhdGA0LDQvdC40LvQuNGJ0LUg0LzQsNGB0YHQuNCy0L7Qsiwg0YLQviDQtdGB0YLRjCDRgdGO0LTQsCDQutCw0LbQtNGD0Y4g0LjRgtC10YDQsNGG0LjRjiDQv9C+0YHRgtGD0L/QsNGO0YIg0L3QvtCy0YvQtSDQvtCx0YnRitC10LrRgtGLCgogICAgICAgIGdldEhlcm9lc0RhdGEoJ2h0dHBzOi8vc3dhcGkuZGV2L2FwaS9wZW9wbGUnKTsKCiAgICAgICAgZnVuY3Rpb24gZ2V0SGVyb2VzRGF0YShhcGlVUkwpIHsKICAgICAgICAgIGF4aW9zLmdldChhcGlVUkwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIHZhciBzaG93RGV0YWlsID0gZnVuY3Rpb24gc2hvd0RldGFpbChkYXRhKSB7CiAgICAgICAgICAgICAgdmFyIGZpbHRlckRhdGEgPSBPYmplY3Qua2V5cyhkYXRhLnJlc3VsdHMpLm1hcChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICBpZDogTnVtYmVyKGtleSkgKyAxICsgdGVtcEFyci5sZW5ndGgsCiAgICAgICAgICAgICAgICAgIG5hbWU6IGRhdGEucmVzdWx0c1trZXldLm5hbWUsCiAgICAgICAgICAgICAgICAgIGdlbmRlcjogZGF0YS5yZXN1bHRzW2tleV0uZ2VuZGVyCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRlbXBBcnIgPSB0ZW1wQXJyLmNvbmNhdChmaWx0ZXJEYXRhKTsgLy8g0LrQvtC90LrQsNGC0LXQvdC40YDRg9C10Lwg0LzQsNGB0YHQuNCyCgogICAgICAgICAgICAgIGlmIChkYXRhLm5leHQpIHsKICAgICAgICAgICAgICAgIGdldEhlcm9lc0RhdGEoZGF0YS5uZXh0KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29tbWl0KCdTRVRfSEVST0VTX1RPX1NUQVRFJywgdGVtcEFycik7IC8vINC60LDQuiDRgtC+0LvRjNC60L4g0LrQvtC90YfQuNC70LjRgdGMINGB0LvQtdC00YPRjtGJ0LjQtSDQvtCx0YrQtdC60YLRiywg0YLQviDQtNC10LvQsNC10Lwg0LrQvtC80LzQuNGCINC80YPRgtCw0YbQuNC4CgogICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgc2hvd0RldGFpbChyZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBBRERfVE9fQ0FSVDogZnVuY3Rpb24gQUREX1RPX0NBUlQoX3JlZjIsIGhlcm8pIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgY29tbWl0KCdTRVRfQ0FSVCcsIGhlcm8pOwogICAgfSwKICAgIERFTEVURV9GUk9NX0NBUlQ6IGZ1bmN0aW9uIERFTEVURV9GUk9NX0NBUlQoX3JlZjMsIGluZGV4KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIGNvbW1pdCgnUkVNT1ZFX0ZST01fQ0FSVCcsIGluZGV4KTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIEhFUk9FUzogZnVuY3Rpb24gSEVST0VTKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5oZXJvZXM7CiAgICB9LAogICAgQ0FSVDogZnVuY3Rpb24gQ0FSVChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuY2FydDsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["D:/FrontEnd/star-wars/src/store/index.js"],"names":["createStore","axios","state","heroes","cart","mutations","SET_HEROES_TO_STATE","tempArr","concat","SET_CART","hero","length","isHeroExists","forEach","item","id","push","REMOVE_FROM_CART","index","splice","actions","GET_HEROES_FROM_API","commit","Promise","resolve","reject","getHeroesData","apiURL","get","then","response","showDetail","data","filterData","Object","keys","results","map","key","Number","name","gender","next","error","ADD_TO_CART","DELETE_FROM_CART","getters","HEROES","CART"],"mappings":"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","sourcesContent":["import { createStore } from 'vuex'\nimport axios from 'axios'\n\nexport default createStore({\n  state: {\n    heroes: [],\n    cart: []\n\n  },\n  mutations: {\n    SET_HEROES_TO_STATE: (state, tempArr) => {\n      state.heroes = state.heroes.concat(tempArr)\n    },\n    SET_CART: (state, hero) => {\n      if (state.cart.length) {\n        let isHeroExists = false\n        state.cart.forEach(item => {\n          if (item.id === hero.id) {\n            isHeroExists = true\n            // return\n          }\n        })\n        if (!isHeroExists) {\n          state.cart.push(hero)\n        }\n      } else {\n        state.cart.push(hero)\n      }\n    },\n    REMOVE_FROM_CART: (state, index) => {\n      state.cart.splice(index, 1)\n    }\n  },\n  actions: {\n    GET_HEROES_FROM_API ({ commit }) {\n      return new Promise((resolve, reject) => {\n        let tempArr = [] // временное хранилище массивов, то есть сюда каждую итерацию поступают новые общъекты\n        getHeroesData('https://swapi.dev/api/people')\n        function getHeroesData (apiURL) {\n          axios\n            .get(apiURL)\n            .then((response) => {\n              const showDetail = (data) => {\n                const filterData = Object.keys(data.results).map(key => {\n                  return {\n                    id: Number(key) + 1 + tempArr.length,\n                    name: data.results[key].name,\n                    gender: data.results[key].gender\n                  }\n                })\n\n                tempArr = tempArr.concat(filterData) // конкатенируем массив\n\n                if (data.next) {\n                  getHeroesData(data.next)\n                } else {\n                  commit('SET_HEROES_TO_STATE', tempArr)// как только кончились следующие объекты, то делаем коммит мутации\n                  resolve(response)\n                }\n              }\n              showDetail(response.data)\n            }, error => {\n              reject(error)\n            })\n        }\n      })\n    },\n    ADD_TO_CART ({ commit }, hero) {\n      commit('SET_CART', hero)\n    },\n    DELETE_FROM_CART ({ commit }, index) {\n      commit('REMOVE_FROM_CART', index)\n    }\n  },\n  getters: {\n    HEROES (state) {\n      return state.heroes\n    },\n    CART (state) {\n      return state.cart\n    }\n\n  }\n})\n"]}]}