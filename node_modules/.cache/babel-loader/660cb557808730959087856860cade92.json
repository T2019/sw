{"remainingRequest":"D:\\FrontEnd\\star-wars\\node_modules\\babel-loader\\lib\\index.js!D:\\FrontEnd\\star-wars\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\FrontEnd\\star-wars\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\FrontEnd\\star-wars\\src\\components\\sw-catalog.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\FrontEnd\\star-wars\\src\\components\\sw-catalog.vue","mtime":1625319706143},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi9Gcm9udEVuZC9zdGFyLXdhcnMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovRnJvbnRFbmQvc3Rhci13YXJzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgc3dDYXRhbG9nSXRlbSBmcm9tICcuL3N3LWNhdGFsb2ctaXRlbSc7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IFNsaWRpbmdQYWdpbmF0aW9uIGZyb20gJ3Z1ZS1zbGlkaW5nLXBhZ2luYXRpb24nOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3N3LWNhdGFsb2cnLAogIGNvbXBvbmVudHM6IHsKICAgIHN3Q2F0YWxvZ0l0ZW06IHN3Q2F0YWxvZ0l0ZW0sCiAgICBTbGlkaW5nUGFnaW5hdGlvbjogU2xpZGluZ1BhZ2luYXRpb24KICB9LAogIHByb3BzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoVmFsdWU6ICcnLAogICAgICBzb3J0ZWRIZXJvZXM6IFtdLAogICAgICBteUl0ZW06IFtdLAogICAgICBoZXJvUGVyUGFnZTogMTAsCiAgICAgIHBhZ2VOdW1iZXI6IDEsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICB0b3RhbFBhZ2VzOiAxMAogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbJ0dFVF9IRVJPRVNfRlJPTV9BUEknLCAnQUREX1RPX0NBUlQnXSkpLCB7fSwgewogICAgLy8g0LTQvtCx0LDQstC70Y/QtdC8INCz0LXRgNC+0Y8KICAgIGFkZFRvQ2FydDogZnVuY3Rpb24gYWRkVG9DYXJ0KGRhdGEpIHsKICAgICAgdGhpcy5BRERfVE9fQ0FSVChkYXRhKTsKICAgIH0sCiAgICAvLyDQv9C+0LjRgdC6CiAgICBzb3J0SGVyb2VzQnlTZWFyY2hWYWx1ZTogZnVuY3Rpb24gc29ydEhlcm9lc0J5U2VhcmNoVmFsdWUodmFsdWUpIHsKICAgICAgdGhpcy5zb3J0ZWRIZXJvZXMgPSBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5IRVJPRVMpOwoKICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgdGhpcy5zb3J0ZWRIZXJvZXMgPSB0aGlzLnNvcnRlZEhlcm9lcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh2YWx1ZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNvcnRlZEhlcm9lcyA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLkhFUk9FUyk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDQv9C+INC60LvQuNC60YMg0L/QtdGA0LXRhdC+0LTQuNC8INC90LAg0LLRi9Cx0YDQsNC90L3Rg9GOINGB0YLRgNCw0L3QuNGG0YMg0L/QsNCz0LjQvdCw0YbQuNC4CiAgICBwYWdlQ2xpY2s6IGZ1bmN0aW9uIHBhZ2VDbGljayhwYWdlKSB7CiAgICAgIHRoaXMucGFnZU51bWJlciA9IHBhZ2U7CiAgICB9LAogICAgcGFnZUNoYW5nZUhhbmRsZXI6IGZ1bmN0aW9uIHBhZ2VDaGFuZ2VIYW5kbGVyKCkge30KICB9KSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnSEVST0VTJywgJ0VYUF9IRVJPRVMnXSkpLCB7fSwgewogICAgcGFnZXM6IGZ1bmN0aW9uIHBhZ2VzKCkgewogICAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMuc29ydGVkSGVyb2VzLmxlbmd0aCAvIHRoaXMuaGVyb1BlclBhZ2UpOwogICAgfSwKICAgIHBhZ2luYXRlZEhlcm9lczogZnVuY3Rpb24gcGFnaW5hdGVkSGVyb2VzKCkgewogICAgICB2YXIgZnJvbSA9ICh0aGlzLnBhZ2VOdW1iZXIgLSAxKSAqIHRoaXMuaGVyb1BlclBhZ2U7CiAgICAgIHZhciB0byA9IGZyb20gKyB0aGlzLmhlcm9QZXJQYWdlOwoKICAgICAgaWYgKHRoaXMuc29ydGVkSGVyb2VzLmxlbmd0aCA8PSB0aGlzLmhlcm9QZXJQYWdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc29ydGVkSGVyb2VzLnNsaWNlKDAsIHRoaXMuc29ydGVkSGVyb2VzLmxlbmd0aCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc29ydGVkSGVyb2VzLnNsaWNlKGZyb20sIHRvKTsKICAgICAgfQogICAgfQogIH0pLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLkdFVF9IRVJPRVNfRlJPTV9BUEkoKTsgLy8gICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgIC8vICAgaWYgKHJlc3BvbnNlLmRhdGEpIHsKICAgIC8vICAgICB0aGlzLnNvcnRIZXJvZXNCeVNlYXJjaFZhbHVlKHRoaXMuc2VhcmNoVmFsdWUpCiAgICAvLyAgIH0KICAgIC8vIH0pCiAgfSwKICB3YXRjaDogewogICAgc2VhcmNoVmFsdWU6IGZ1bmN0aW9uIHNlYXJjaFZhbHVlKCkgewogICAgICB0aGlzLnNvcnRIZXJvZXNCeVNlYXJjaFZhbHVlKHRoaXMuc2VhcmNoVmFsdWUpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:\\FrontEnd\\star-wars\\src\\components\\sw-catalog.vue"],"names":[],"mappings":";;;;;;;AAgDA,OAAO,aAAP,MAA0B,mBAA1B;AACA,SAAS,UAAT,EAAqB,UAArB,QAAuC,MAAvC;AACA,OAAO,iBAAP,MAA8B,wBAA9B;AAGA,eAAe;AACb,EAAA,IAAI,EAAE,YADO;AAEb,EAAA,UAAU,EAAE;AAAE,IAAA,aAAa,EAAb,aAAF;AAAiB,IAAA,iBAAgB,EAAhB;AAAjB,GAFC;AAGb,EAAA,KAAK,EAAE,EAHM;AAIb,EAAA,IAJa,kBAIL;AACN,WAAO;AACL,MAAA,WAAW,EAAE,EADR;AAEL,MAAA,YAAY,EAAE,EAFT;AAGL,MAAA,MAAM,EAAE,EAHH;AAKL,MAAA,WAAW,EAAE,EALR;AAML,MAAA,UAAU,EAAE,CANP;AAQL,MAAA,WAAW,EAAC,CARP;AASL,MAAA,UAAU,EAAC;AATN,KAAP;AAWD,GAhBY;AAiBb,EAAA,OAAO,kCACF,UAAU,CAAC,CACZ,qBADY,EAEZ,aAFY,CAAD,CADR;AAML;AACA,IAAA,SAPK,qBAOM,IAPN,EAOY;AACf,WAAK,WAAL,CAAiB,IAAjB;AACD,KATI;AAWL;AACA,IAAA,uBAZK,mCAYoB,KAZpB,EAY2B;AAC9B,WAAK,YAAL,sBAAwB,KAAK,MAA7B;;AACA,UAAI,KAAJ,EAAW;AACT,aAAK,YAAL,GAAoB,KAAK,YAAL,CAAkB,MAAlB,CAAyB,UAAU,IAAV,EAAgB;AAC3D,iBAAO,IAAI,CAAC,IAAL,CAAU,WAAV,GAAwB,QAAxB,CAAiC,KAAK,CAAC,WAAN,EAAjC,CAAP;AACD,SAFmB,CAApB;AAGF,OAJA,MAIO;AACL,aAAK,YAAL,sBAAwB,KAAK,MAA7B;AACF;AACD,KArBI;AAuBL;AACA,IAAA,SAxBK,qBAwBM,IAxBN,EAwBY;AACf,WAAK,UAAL,GAAkB,IAAlB;AACD,KA1BI;AA2BL,IAAA,iBA3BK,+BA2Bc,CAEnB;AA7BK,IAjBM;AAgDb,EAAA,QAAQ,kCACH,UAAU,CAAC,CACZ,QADY,EAEZ,YAFY,CAAD,CADP;AAKN,IAAA,KALM,mBAKG;AACP,aAAO,IAAI,CAAC,IAAL,CAAU,KAAK,YAAL,CAAkB,MAAlB,GAA2B,KAAK,WAA1C,CAAP;AACD,KAPK;AASN,IAAA,eATM,6BASa;AACjB,UAAM,IAAG,GAAI,CAAC,KAAK,UAAL,GAAkB,CAAnB,IAAwB,KAAK,WAA1C;AACA,UAAM,EAAC,GAAI,IAAG,GAAI,KAAK,WAAvB;;AAEA,UAAI,KAAK,YAAL,CAAkB,MAAlB,IAA4B,KAAK,WAArC,EAAkD;AAChD,eAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,CAAxB,EAA2B,KAAK,YAAL,CAAkB,MAA7C,CAAP;AACF,OAFA,MAEO;AACL,eAAO,KAAK,YAAL,CAAkB,KAAlB,CAAwB,IAAxB,EAA8B,EAA9B,CAAP;AACF;AACF;AAlBM,IAhDK;AAoEb,EAAA,OApEa,qBAoEF;AACT,SAAK,mBAAL,GADS,CAET;AACA;AACA;AACA;AACA;AACD,GA3EY;AA4Eb,EAAA,KAAK,EAAE;AACL,IAAA,WADK,yBACU;AACb,WAAK,uBAAL,CAA6B,KAAK,WAAlC;AACF;AAHK;AA5EM,CAAf","sourcesContent":["<template>\r\n  <div class=\"catalog\">\r\n    <div>{{EXP_HEROES}}</div>\r\n    <div class=\"search-field\">\r\n      <input\r\n        class=\"search-field__input\"\r\n        type=\"text\"\r\n        placeholder=\"Найди своего героя...\"\r\n        v-model=\"searchValue\"\r\n      >\r\n<!--      <button class=\"search-field__btn\" @click=\"search\">-->\r\n<!--        <i class=\"icon-search\"></i>-->\r\n<!--      </button>-->\r\n    </div>\r\n\r\n    <div class=\"gallery\">\r\n      <ul class=\"gallery__list\">\r\n        <swCatalogItem\r\n          v-for=\"hero in paginatedHeroes\"\r\n          :key=\"hero.id\"\r\n          :hero_data=\"hero\"\r\n          @addToCart=\"addToCart\"\r\n\r\n        />\r\n      </ul>\r\n    </div>\r\n\r\n    <div class=\"pagination\">\r\n      <div class=\"page\"\r\n        v-for=\"page in pages\"\r\n           :key=\"page\"\r\n           @click=\"pageClick(page)\"\r\n           :class=\"{'page_selected': page===pageNumber}\"\r\n\r\n      >{{page}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div>\r\n    <sliding-pagination\r\n      :current=\"currentPage\"\r\n      :total=\"totalPages\"\r\n      @page-change=\"pageChangeHandler\"\r\n    ></sliding-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport swCatalogItem from './sw-catalog-item'\r\nimport { mapActions, mapGetters } from 'vuex'\r\nimport SlidingPagination from 'vue-sliding-pagination'\r\n\r\n\r\nexport default {\r\n  name: 'sw-catalog',\r\n  components: { swCatalogItem, SlidingPagination },\r\n  props: {},\r\n  data () {\r\n    return {\r\n      searchValue: '',\r\n      sortedHeroes: [],\r\n      myItem: [],\r\n\r\n      heroPerPage: 10,\r\n      pageNumber: 1,\r\n\r\n      currentPage:1,\r\n      totalPages:10\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'GET_HEROES_FROM_API',\r\n      'ADD_TO_CART'\r\n    ]),\r\n\r\n    // добавляем героя\r\n    addToCart (data) {\r\n      this.ADD_TO_CART(data)\r\n    },\r\n\r\n    // поиск\r\n    sortHeroesBySearchValue (value) {\r\n      this.sortedHeroes = [...this.HEROES]\r\n      if (value) {\r\n        this.sortedHeroes = this.sortedHeroes.filter(function (item) {\r\n          return item.name.toLowerCase().includes(value.toLowerCase())\r\n        })\r\n      } else {\r\n        this.sortedHeroes = [...this.HEROES]\r\n      }\r\n    },\r\n\r\n    // по клику переходим на выбранную страницу пагинации\r\n    pageClick (page) {\r\n      this.pageNumber = page\r\n    },\r\n    pageChangeHandler(){\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'HEROES',\r\n      'EXP_HEROES'\r\n    ]),\r\n    pages () {\r\n      return Math.ceil(this.sortedHeroes.length / this.heroPerPage)\r\n    },\r\n\r\n    paginatedHeroes () {\r\n      const from = (this.pageNumber - 1) * this.heroPerPage\r\n      const to = from + this.heroPerPage\r\n\r\n      if (this.sortedHeroes.length <= this.heroPerPage) {\r\n        return this.sortedHeroes.slice(0, this.sortedHeroes.length)\r\n      } else {\r\n        return this.sortedHeroes.slice(from, to)\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.GET_HEROES_FROM_API()\r\n    //   .then((response) => {\r\n    //   if (response.data) {\r\n    //     this.sortHeroesBySearchValue(this.searchValue)\r\n    //   }\r\n    // })\r\n  },\r\n  watch: {\r\n    searchValue () {\r\n      this.sortHeroesBySearchValue(this.searchValue)\r\n    }\r\n\r\n  }\r\n\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":""}]}