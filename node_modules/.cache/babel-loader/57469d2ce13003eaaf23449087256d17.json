{"remainingRequest":"D:\\FrontEnd\\star-wars\\node_modules\\babel-loader\\lib\\index.js!D:\\FrontEnd\\star-wars\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\FrontEnd\\star-wars\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\FrontEnd\\star-wars\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\FrontEnd\\star-wars\\src\\components\\sw-catalog.vue?vue&type=template&id=649fa3c0&scoped=true","dependencies":[{"path":"D:\\FrontEnd\\star-wars\\src\\components\\sw-catalog.vue","mtime":1625520215625},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\FrontEnd\\star-wars\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdk1vZGVsVGV4dCBhcyBfdk1vZGVsVGV4dCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhTY29wZUlkIGFzIF93aXRoU2NvcGVJZCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aElkID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgiZGF0YS12LTY0OWZhM2MwIik7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi02NDlmYTNjMCIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJjYXRhbG9nIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogInNlYXJjaC1maWVsZCIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJnYWxsZXJ5Igp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogImdhbGxlcnlfX2xpc3QiCn07CgpfcG9wU2NvcGVJZCgpOwoKZXhwb3J0IHZhciByZW5kZXIgPSAvKiNfX1BVUkVfXyovX3dpdGhJZChmdW5jdGlvbiAoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfc3dDYXRhbG9nSXRlbSA9IF9yZXNvbHZlQ29tcG9uZW50KCJzd0NhdGFsb2dJdGVtIik7CgogIHZhciBfY29tcG9uZW50X3BhZ2luYXRpb24gPSBfcmVzb2x2ZUNvbXBvbmVudCgicGFnaW5hdGlvbiIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJpbnB1dCIsIHsKICAgIGNsYXNzOiAic2VhcmNoLWZpZWxkX19pbnB1dCIsCiAgICB0eXBlOiAidGV4dCIsCiAgICBwbGFjZWhvbGRlcjogItCd0LDQudC00Lgg0YHQstC+0LXQs9C+INCz0LXRgNC+0Y8uLi4iLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRkYXRhLnNlYXJjaFZhbHVlID0gJGV2ZW50OwogICAgfSkKICB9LCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgJGRhdGEuc2VhcmNoVmFsdWVdXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiAgICAgIDxidXR0b24gY2xhc3M9XCJzZWFyY2gtZmllbGRfX2J0blwiIEBjbGljaz1cInNlYXJjaFwiPiIpLCBfY3JlYXRlQ29tbWVudFZOb2RlKCIgICAgICAgIDxpIGNsYXNzPVwiaWNvbi1zZWFyY2hcIj48L2k+IiksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiAgICAgIDwvYnV0dG9uPiIpXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgW19jcmVhdGVWTm9kZSgidWwiLCBfaG9pc3RlZF80LCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KF9jdHguUkVTUCwgZnVuY3Rpb24gKGhlcm8pIHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X3N3Q2F0YWxvZ0l0ZW0sIHsKICAgICAga2V5OiBoZXJvLmlkLAogICAgICBoZXJvX2RhdGE6IGhlcm8sCiAgICAgIG9uQWRkVG9DYXJ0OiAkb3B0aW9ucy5hZGRUb0NhcnQKICAgIH0sIG51bGwsIDgKICAgIC8qIFBST1BTICovCiAgICAsIFsiaGVyb19kYXRhIiwgIm9uQWRkVG9DYXJ0Il0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSldKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiICAgIDxkaXYgY2xhc3M9XCJwYWdpbmF0aW9uXCI+IiksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiAgICAgIDxkaXYgY2xhc3M9XCJwYWdlXCIiKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiICAgICAgICB2LWZvcj1cInBhZ2UgaW4gUkVTUFwiIiksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiAgICAgICAgICAgOmtleT1cInBhZ2VcIiIpLCBfY3JlYXRlQ29tbWVudFZOb2RlKCIgICAgICAgICAgIEBjbGljaz1cInBhZ2VDbGljayhwYWdlKVwiIiksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiAgICAgICAgICAgOmNsYXNzPVwieydwYWdlX3NlbGVjdGVkJzogcGFnZT09PXBhZ2VOdW1iZXJ9XCIiKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiICAgICAgPnt7cGFnZX19IiksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiAgICAgIDwvZGl2PiIpLCBfY3JlYXRlQ29tbWVudFZOb2RlKCIgICAgPC9kaXY+IiksIF9jcmVhdGVWTm9kZSgiZGl2IiwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3BhZ2luYXRpb24sIHsKICAgIG1vZGVsVmFsdWU6ICRkYXRhLnBhZ2UsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJGRhdGEucGFnZSA9ICRldmVudDsKICAgIH0pLAogICAgcmVjb3JkczogJGRhdGEuaGVyb2VzVm9sdW1lLAogICAgInBlci1wYWdlIjogMTAsCiAgICBvblBhZ2luYXRlOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuIF9jdHguR0VUX0hFUk9FU19GUk9NX0FQSSgkZGF0YS5wYWdlKTsKICAgIH0pCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbIm1vZGVsVmFsdWUiLCAicmVjb3JkcyJdKV0pXSk7Cn0pOw=="},{"version":3,"sources":["D:\\FrontEnd\\star-wars\\src\\components\\sw-catalog.vue"],"names":[],"mappings":";;;;;;;AACO,EAAA,KAAK,EAAC;;;AAEJ,EAAA,KAAK,EAAC;;;AAYN,EAAA,KAAK,EAAC;;;AACL,EAAA,KAAK,EAAC;;;;;;;;;;uBAfd,YAAA,CA4CM,KA5CN,EAAA,UAAA,EA4CM,CA1CJ,YAAA,CAUM,KAVN,EAAA,UAAA,EAUM,C,gBATJ,YAAA,CAKC,OALD,EAKC;AAJC,IAAA,KAAK,EAAC,qBAIP;AAHC,IAAA,IAAI,EAAC,MAGN;AAFC,IAAA,WAAW,EAAC,uBAEb;;aADU,KAAA,CAAA,WAAA,GAAW,M;;AACrB,GALD,E,IAAA,E;;AAAA,G,iBAIW,KAAA,CAAA,W,GAKP,EAHV,mBAAA,CAAA,8DAAA,CAGU,EAFV,mBAAA,CAAA,uCAAA,CAEU,EADV,mBAAA,CAAA,iBAAA,CACU,CAVN,CA0CI,EA9BJ,YAAA,CAUM,KAVN,EAAA,UAAA,EAUM,CATJ,YAAA,CAQK,IARL,EAAA,UAAA,EAQK,E,kBAPH,YAAA,CAME,SANF,EAME,IANF,EAME,WAAA,CALe,IAAA,CAAA,IAKf,EALmB,UAAZ,IAAY,EAAR;yBADb,YAAA,CAME,wBANF,EAME;AAJC,MAAA,GAAG,EAAE,IAAI,CAAC,EAIX;AAHC,MAAA,SAAS,EAAE,IAGZ;AAFC,MAAA,WAAS,EAAE,QAAA,CAAA;AAEZ,KANF,E,IAAA,E;;AAAA,M,4BAAA,C;GAME,CANF,E;;AAAA,GAOG,EARL,CASI,CAVN,CA8BI,EAlBR,mBAAA,CAAA,gCAAA,CAkBQ,EAjBR,mBAAA,CAAA,2BAAA,CAiBQ,EAhBR,mBAAA,CAAA,gCAAA,CAgBQ,EAfR,mBAAA,CAAA,0BAAA,CAeQ,EAdR,mBAAA,CAAA,uCAAA,CAcQ,EAbR,mBAAA,CAAA,4DAAA,CAaQ,EAXR,mBAAA,CAAA,iBAAA,CAWQ,EAVR,mBAAA,CAAA,cAAA,CAUQ,EATR,mBAAA,CAAA,YAAA,CASQ,EARJ,YAAA,CAOM,KAPN,EAOM,IAPN,EAOM,CANJ,YAAA,CAKE,qBALF,EAKE;gBAJS,KAAA,CAAA,IAIT;;aAJS,KAAA,CAAA,IAAA,GAAI,M;MAIb;AAHC,IAAA,OAAO,EAAE,KAAA,CAAA,YAGV;AAFC,gBAAU,EAEX;AADC,IAAA,UAAQ,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,IAAA,CAAA,mBAAA,CAAoB,KAAA,CAAA,IAApB,CAAF;AAAA,KAAA;AACT,GALF,E,IAAA,E;;AAAA,I,yBAAA,CAMI,CAPN,CAQI,CA5CN,C","sourcesContent":["<template>\r\n  <div class=\"catalog\">\r\n\r\n    <div class=\"search-field\">\r\n      <input\r\n        class=\"search-field__input\"\r\n        type=\"text\"\r\n        placeholder=\"Найди своего героя...\"\r\n        v-model=\"searchValue\"\r\n      >\r\n<!--      <button class=\"search-field__btn\" @click=\"search\">-->\r\n<!--        <i class=\"icon-search\"></i>-->\r\n<!--      </button>-->\r\n    </div>\r\n\r\n    <div class=\"gallery\">\r\n      <ul class=\"gallery__list\">\r\n        <swCatalogItem\r\n          v-for=\"hero in RESP\"\r\n          :key=\"hero.id\"\r\n          :hero_data=\"hero\"\r\n          @addToCart=\"addToCart\"\r\n\r\n        />\r\n      </ul>\r\n    </div>\r\n\r\n<!--    <div class=\"pagination\">-->\r\n<!--      <div class=\"page\"-->\r\n<!--        v-for=\"page in RESP\"-->\r\n<!--           :key=\"page\"-->\r\n<!--           @click=\"pageClick(page)\"-->\r\n<!--           :class=\"{'page_selected': page===pageNumber}\"-->\r\n\r\n<!--      >{{page}}-->\r\n<!--      </div>-->\r\n<!--    </div>-->\r\n    <div>\r\n      <pagination\r\n        v-model=\"page\"\r\n        :records=\"heroesVolume\"\r\n        :per-page=\"10\"\r\n        @paginate=\"GET_HEROES_FROM_API(page)\"\r\n      />\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport swCatalogItem from './sw-catalog-item'\r\nimport { mapActions, mapGetters } from 'vuex'\r\nimport Pagination from 'v-pagination-3';\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default {\r\n  name: 'sw-catalog',\r\n  components: { swCatalogItem, Pagination},\r\n  props: {},\r\n  data () {\r\n    return {\r\n      searchValue: '',\r\n      sortedHeroes: [],\r\n      myItem: [],\r\n\r\n      heroPerPage: 10,\r\n      pageNumber: 1,\r\n\r\n      page: 1, //стартовая страница пагинации\r\n      resp: {},\r\n      heroesVolume: 82,\r\n      filterData:[],\r\n    }\r\n  },\r\n  methods: {\r\n    // getHeroesFromURL(page){\r\n    //   if(page === 1){\r\n    //     return axios\r\n    //       .get('https://swapi.dev/api/people/')\r\n    //       .then((response) => {\r\n    //         const setValueToPagination = (data) => {\r\n    //           this.resp = data\r\n    //           this.heroesVolume = data.count\r\n    //\r\n    //           const filterData = Object.keys(data.results).map(key => {\r\n    //             return {\r\n    //               id: Number(key)+1,\r\n    //               name: data.results[key].name,\r\n    //               gender: data.results[key].gender\r\n    //             }\r\n    //           })\r\n    //           console.log(filterData)\r\n    //\r\n    //         }\r\n    //         setValueToPagination(response.data)\r\n    //\r\n    //\r\n    //       })\r\n    //   }else{\r\n    //     return axios\r\n    //       .get('https://swapi.dev/api/people/?page=' + page)\r\n    //       .then((response) => {\r\n    //         const setValueToPagination = (data) => {\r\n    //           this.resp = data\r\n    //           this.heroesVolume = data.count\r\n    //\r\n    //           const filterData = Object.keys(data.results).map(key => {\r\n    //             return {\r\n    //               id: Number(key)+1,\r\n    //               name: data.results[key].name,\r\n    //               gender: data.results[key].gender\r\n    //             }\r\n    //           })\r\n    //           console.log(filterData)\r\n    //         }\r\n    //         setValueToPagination(response.data)\r\n    //\r\n    //       })\r\n    //   }\r\n\r\n\r\n\r\n\r\n    //},\r\n    ...mapActions([\r\n      'ADD_TO_CART',\r\n      'PAGE_TO_STORE',\r\n      'GET_HEROES_FROM_API',\r\n    ]),\r\n\r\n    // добавляем героя\r\n    addToCart (data) {\r\n      this.ADD_TO_CART(data)\r\n    },\r\n\r\n    // поиск\r\n    sortHeroesBySearchValue (value) {\r\n      this.sortedHeroes = [...this.HEROES]\r\n      if (value) {\r\n        this.sortedHeroes = this.sortedHeroes.filter(function (item) {\r\n          return item.name.toLowerCase().includes(value.toLowerCase())\r\n        })\r\n      } else {\r\n        this.sortedHeroes = [...this.HEROES]\r\n      }\r\n    },\r\n\r\n    // по клику переходим на выбранную страницу пагинации\r\n    pageClick (page) {\r\n      this.pageNumber = page\r\n    },\r\n    pageChangeHandler(){\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'HEROES',\r\n      'EXP_HEROES',\r\n      'CURRENT_PAGE', //текущая страница пагинации\r\n      'HEROES_VOLUME',\r\n      'RESP',\r\n      'FILTER_DATA',\r\n      'IMG_NUM',\r\n\r\n    ]),\r\n    pages () {\r\n      return Math.ceil(this.sortedHeroes.length / this.heroPerPage)\r\n    },\r\n    totalPages(){\r\n      return Math.ceil(this.heroesVolume / this.heroPerPage)\r\n    },\r\n    paginatedHeroes () {\r\n      const from = (this.pageNumber - 1) * this.heroPerPage\r\n      const to = from + this.heroPerPage\r\n\r\n      if (this.sortedHeroes.length <= this.heroPerPage) {\r\n        return this.sortedHeroes.slice(0, this.sortedHeroes.length)\r\n      } else {\r\n        return this.sortedHeroes.slice(from, to)\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    //this.GET_HEROES_FROM_API()\r\n    //   .then((response) => {\r\n    //   if (response.data) {\r\n    //     this.sortHeroesBySearchValue(this.searchValue)\r\n    //   }\r\n    // })\r\n\r\n    //this.getHeroesFromURL(this.page)\r\n    this.GET_HEROES_FROM_API(this.page)\r\n\r\n  },\r\n  watch: {\r\n    searchValue () {\r\n      this.sortHeroesBySearchValue(this.searchValue)\r\n    },\r\n    page(){\r\n      this.PAGE_TO_STORE(this.page)\r\n\r\n    },\r\n\r\n\r\n  }\r\n\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":""}]}